\hypertarget{parsing__json_8h}{}\doxysection{/home/hjuba/\+Documents/1.Dev/5.projet\+\_\+ajc/traitement\+\_\+data/libs/parsing\+\_\+json.h File Reference}
\label{parsing__json_8h}\index{/home/hjuba/Documents/1.Dev/5.projet\_ajc/traitement\_data/libs/parsing\_json.h@{/home/hjuba/Documents/1.Dev/5.projet\_ajc/traitement\_data/libs/parsing\_json.h}}
{\ttfamily \#include \char`\"{}jsmn.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
Include dependency graph for parsing\+\_\+json.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{parsing__json_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{parsing__json_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structrecord}{record}}
\begin{DoxyCompactList}\small\item\em Structure contenant un enregistrement (record) permettant de recuperer les donnees du fichier json. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structrecord}{record}} \mbox{\hyperlink{parsing__json_8h_ac4b59fe1f66e3a8c792dbc1360529300}{record}}
\begin{DoxyCompactList}\small\item\em Structure contenant un enregistrement (record) permettant de recuperer les donnees du fichier json. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{parsing__json_8h_a55101acff969ea59ed865b928744a599}{print\+\_\+record}} (\mbox{\hyperlink{structrecord}{record}} rec)
\begin{DoxyCompactList}\small\item\em Fonction d\textquotesingle{}affichage du contenu d\textquotesingle{}un record. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{parsing__json_8h_a24a620d1519ec2b315a6faad588d5207}{slice}} (const char $\ast$str\+\_\+src, char $\ast$str\+\_\+dest, int start, int end)
\begin{DoxyCompactList}\small\item\em Fonction permettant de slicer une chaine de caractères. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{parsing__json_8h_a86fdb94326efa97b85f4938385cb8170}{recup\+\_\+date}} (const char $\ast$json\+\_\+filename, char $\ast$date\+\_\+recolte)
\begin{DoxyCompactList}\small\item\em Recuperation de la date de collecte a partir du nom du fichier Un nom de fichier finit par la date du jour de collecte \+: XX\+\_\+\+XX\+\_\+\+XX\+\_\+2023-\/01-\/28.\+json. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{parsing__json_8h_a84020907a9cb5212b7d20d9a7547d0bb}{lecture\+\_\+contenu\+\_\+json}} (const char $\ast$json\+\_\+filename)
\begin{DoxyCompactList}\small\item\em Lecture du contenu du fichier json passé en argument. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{parsing__json_8h_ae37b3b1a5df6410282bcf79e1442616c}{print\+\_\+token}} (const char $\ast$json, \mbox{\hyperlink{jsmn_8h_aaa6246f56bd6f4c9d0e57ae6778616b7}{jsmntok\+\_\+t}} $\ast$tok)
\begin{DoxyCompactList}\small\item\em Affiche le contenu d\textquotesingle{}un token (string) \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{parsing__json_8h_a7fe483ae77fb3ab79d14dee458b9a8db}{get\+\_\+token\+\_\+string}} (const char $\ast$json, \mbox{\hyperlink{jsmn_8h_aaa6246f56bd6f4c9d0e57ae6778616b7}{jsmntok\+\_\+t}} $\ast$tok)
\begin{DoxyCompactList}\small\item\em Recupere le contenu (string) d\textquotesingle{}un token. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{parsing__json_8h_ac4b59fe1f66e3a8c792dbc1360529300}\label{parsing__json_8h_ac4b59fe1f66e3a8c792dbc1360529300}} 
\index{parsing\_json.h@{parsing\_json.h}!record@{record}}
\index{record@{record}!parsing\_json.h@{parsing\_json.h}}
\doxysubsubsection{\texorpdfstring{record}{record}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structrecord}{record}} \mbox{\hyperlink{structrecord}{record}}}



Structure contenant un enregistrement (record) permettant de recuperer les donnees du fichier json. 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{parsing__json_8h_a7fe483ae77fb3ab79d14dee458b9a8db}\label{parsing__json_8h_a7fe483ae77fb3ab79d14dee458b9a8db}} 
\index{parsing\_json.h@{parsing\_json.h}!get\_token\_string@{get\_token\_string}}
\index{get\_token\_string@{get\_token\_string}!parsing\_json.h@{parsing\_json.h}}
\doxysubsubsection{\texorpdfstring{get\_token\_string()}{get\_token\_string()}}
{\footnotesize\ttfamily char $\ast$ get\+\_\+token\+\_\+string (\begin{DoxyParamCaption}\item[{const char $\ast$}]{json,  }\item[{\mbox{\hyperlink{jsmn_8h_aaa6246f56bd6f4c9d0e57ae6778616b7}{jsmntok\+\_\+t}} $\ast$}]{tok }\end{DoxyParamCaption})}



Recupere le contenu (string) d\textquotesingle{}un token. 

\begin{DoxyWarning}{Warning}
La fonction slice est utilisée, on verifie donc que la chaine finit bien par \textquotesingle{}\textbackslash{}0\textquotesingle{}. 

Le pointeur tok\+\_\+str est alloué dynamiquement et doit donc etre désalloué. 
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em json} & Contenu du fichier json \\
\hline
{\em tok} & Token dont le contenu est récupéré \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
char$\ast$ String contenue dans le token 
\end{DoxyReturn}
$<$ le slice n\textquotesingle{}ajoute pas de \textbackslash{}0 en fin de string\mbox{\Hypertarget{parsing__json_8h_a84020907a9cb5212b7d20d9a7547d0bb}\label{parsing__json_8h_a84020907a9cb5212b7d20d9a7547d0bb}} 
\index{parsing\_json.h@{parsing\_json.h}!lecture\_contenu\_json@{lecture\_contenu\_json}}
\index{lecture\_contenu\_json@{lecture\_contenu\_json}!parsing\_json.h@{parsing\_json.h}}
\doxysubsubsection{\texorpdfstring{lecture\_contenu\_json()}{lecture\_contenu\_json()}}
{\footnotesize\ttfamily char $\ast$ lecture\+\_\+contenu\+\_\+json (\begin{DoxyParamCaption}\item[{const char $\ast$}]{json\+\_\+filename }\end{DoxyParamCaption})}



Lecture du contenu du fichier json passé en argument. 

\begin{DoxyWarning}{Warning}
Une allocation memoire de taille (nb\+\_\+char$\ast$sizeof(char)) est faite sur json\+\_\+content, avec nb\+\_\+char le nombre de char dans le fichier. 
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em json\+\_\+filename} & Nom du fichier json a lire. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
char$\ast$ Renvoie la chaine de caracteres contenue dans le fichier. 
\end{DoxyReturn}
$<$ Initialisation en comptant le \textbackslash{}0

$<$ Initialisation de la taille du tableau a partir du compteur nb\+\_\+char\mbox{\Hypertarget{parsing__json_8h_a55101acff969ea59ed865b928744a599}\label{parsing__json_8h_a55101acff969ea59ed865b928744a599}} 
\index{parsing\_json.h@{parsing\_json.h}!print\_record@{print\_record}}
\index{print\_record@{print\_record}!parsing\_json.h@{parsing\_json.h}}
\doxysubsubsection{\texorpdfstring{print\_record()}{print\_record()}}
{\footnotesize\ttfamily void print\+\_\+record (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structrecord}{record}}}]{rec }\end{DoxyParamCaption})}



Fonction d\textquotesingle{}affichage du contenu d\textquotesingle{}un record. 


\begin{DoxyParams}{Parameters}
{\em rec} & Record à afficher \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{parsing__json_8h_ae37b3b1a5df6410282bcf79e1442616c}\label{parsing__json_8h_ae37b3b1a5df6410282bcf79e1442616c}} 
\index{parsing\_json.h@{parsing\_json.h}!print\_token@{print\_token}}
\index{print\_token@{print\_token}!parsing\_json.h@{parsing\_json.h}}
\doxysubsubsection{\texorpdfstring{print\_token()}{print\_token()}}
{\footnotesize\ttfamily void print\+\_\+token (\begin{DoxyParamCaption}\item[{const char $\ast$}]{json,  }\item[{\mbox{\hyperlink{jsmn_8h_aaa6246f56bd6f4c9d0e57ae6778616b7}{jsmntok\+\_\+t}} $\ast$}]{tok }\end{DoxyParamCaption})}



Affiche le contenu d\textquotesingle{}un token (string) 


\begin{DoxyParams}{Parameters}
{\em json} & Contenu du fichier json \\
\hline
{\em tok} & Token a afficher \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{parsing__json_8h_a86fdb94326efa97b85f4938385cb8170}\label{parsing__json_8h_a86fdb94326efa97b85f4938385cb8170}} 
\index{parsing\_json.h@{parsing\_json.h}!recup\_date@{recup\_date}}
\index{recup\_date@{recup\_date}!parsing\_json.h@{parsing\_json.h}}
\doxysubsubsection{\texorpdfstring{recup\_date()}{recup\_date()}}
{\footnotesize\ttfamily void recup\+\_\+date (\begin{DoxyParamCaption}\item[{const char $\ast$}]{json\+\_\+filename,  }\item[{char $\ast$}]{date\+\_\+recolte }\end{DoxyParamCaption})}



Recuperation de la date de collecte a partir du nom du fichier Un nom de fichier finit par la date du jour de collecte \+: XX\+\_\+\+XX\+\_\+\+XX\+\_\+2023-\/01-\/28.\+json. 


\begin{DoxyParams}{Parameters}
{\em json\+\_\+filename} & Nom du fichier json entré en argument du programme \\
\hline
{\em date\+\_\+recolte} & Chaine de caractères contenant la date \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void$\ast$ 
\end{DoxyReturn}
$<$ le slice n\textquotesingle{}ajoute pas de \textbackslash{}0 en fin de string\mbox{\Hypertarget{parsing__json_8h_a24a620d1519ec2b315a6faad588d5207}\label{parsing__json_8h_a24a620d1519ec2b315a6faad588d5207}} 
\index{parsing\_json.h@{parsing\_json.h}!slice@{slice}}
\index{slice@{slice}!parsing\_json.h@{parsing\_json.h}}
\doxysubsubsection{\texorpdfstring{slice()}{slice()}}
{\footnotesize\ttfamily void slice (\begin{DoxyParamCaption}\item[{const char $\ast$}]{str\+\_\+src,  }\item[{char $\ast$}]{str\+\_\+dest,  }\item[{int}]{start,  }\item[{int}]{end }\end{DoxyParamCaption})}



Fonction permettant de slicer une chaine de caractères. 


\begin{DoxyParams}{Parameters}
{\em str\+\_\+src} & Chaine de caractère SOURCE \\
\hline
{\em str\+\_\+dest} & Chaine de caractère DESTINATION \\
\hline
{\em start} & Indice de départ pour le slicing \\
\hline
{\em end} & Indice de fin pour le slicing \\
\hline
\end{DoxyParams}
