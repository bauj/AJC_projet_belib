\hypertarget{namespacerecuperation__data__belib}{}\doxysection{recuperation\+\_\+data\+\_\+belib Namespace Reference}
\label{namespacerecuperation__data__belib}\index{recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_a5c47643b69fd718a3f032d427c38684b}{iterator\+\_\+data\+\_\+general}} (data\+\_\+general)
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_a14c13e8ef6b07d874b70d783e3d011f3}{iterator\+\_\+data\+\_\+bornes}} (n, raw\+\_\+data\+\_\+all\+\_\+bornes)
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_ae250e409a5ddfd4c9f3adc74ed072b2c}{iterator\+\_\+data\+\_\+stations}} (n, list\+\_\+stations\+\_\+pref)
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_ab3b3515bcc8aaf4a79e40c3936005474}{create\+\_\+connection}} (\mbox{\hyperlink{namespacerecuperation__data__belib_a36809ad6cf42c75b7260bb30440a70f5}{path\+\_\+db}})
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_a44f9cf58f4d6140f0f7157417411e17b}{update\+\_\+all\+\_\+bornes}} (\mbox{\hyperlink{namespacerecuperation__data__belib_a36809ad6cf42c75b7260bb30440a70f5}{path\+\_\+db}})
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_af7080f2b4e2434a4568f8439083b33d4}{get\+\_\+lon\+\_\+lat\+\_\+from\+\_\+coordxy}} (str\+\_\+coordxy)
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_add9c026e0c0de423fa76bba0828fdcb4}{def\+\_\+station}} (daterecolte\+\_\+, adr, lon, lat, n\+\_\+dispo, n\+\_\+occup, n\+\_\+inc, n\+\_\+main, n\+\_\+del=0, n\+\_\+res=0, n\+\_\+encours\+\_\+mes=0, n\+\_\+mes\+\_\+plan=0, n\+\_\+nonimp=0)
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_af19de3b642faebacf946cd33eb82ce5c}{def\+\_\+row\+\_\+general}} (daterecolte\+\_\+, n\+\_\+dispo, n\+\_\+occup, n\+\_\+inc, n\+\_\+main, n\+\_\+del=0, n\+\_\+res=0, n\+\_\+encours\+\_\+mes=0, n\+\_\+mes\+\_\+plan=0, n\+\_\+nonimp=0)
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_ad4a37e9c51a43b9aae37e7427ce3f671}{transform\+\_\+dict\+\_\+station}} (list\+\_\+records)
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_a4d60a627f1517f0f0ad8e67cc1f91d1c}{update\+\_\+bornes\+\_\+around\+\_\+pos}} (\mbox{\hyperlink{namespacerecuperation__data__belib_a36809ad6cf42c75b7260bb30440a70f5}{path\+\_\+db}}, \mbox{\hyperlink{namespacerecuperation__data__belib_acb7d827b2e2e92904507b576c607e6c9}{table}}, \mbox{\hyperlink{namespacerecuperation__data__belib_af1c1b83b389cf652938d47316fc0e815}{pos\+\_\+lat}}, \mbox{\hyperlink{namespacerecuperation__data__belib_ab95c9057dcf26e04a376ad2a155c9191}{pos\+\_\+lon}}, \mbox{\hyperlink{namespacerecuperation__data__belib_a2578b368dad74bcd4a88bbeeb319a833}{dist}})
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_a48c24dffede233864b221ac6b417a657}{make\+\_\+mapbox}} (\mbox{\hyperlink{namespacerecuperation__data__belib_acb7d827b2e2e92904507b576c607e6c9}{table}}, list\+\_\+stations, http, \mbox{\hyperlink{namespacerecuperation__data__belib_af1c1b83b389cf652938d47316fc0e815}{pos\+\_\+lat}}, \mbox{\hyperlink{namespacerecuperation__data__belib_ab95c9057dcf26e04a376ad2a155c9191}{pos\+\_\+lon}}, \mbox{\hyperlink{namespacerecuperation__data__belib_a2578b368dad74bcd4a88bbeeb319a833}{dist}})
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_a5b6a2110097fd80a82aee953a5861388}{update\+\_\+general}} (\mbox{\hyperlink{namespacerecuperation__data__belib_a36809ad6cf42c75b7260bb30440a70f5}{path\+\_\+db}})
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_a3dbb95e8c121b590bcf7d0fcab975cbe}{adresse\+\_\+to\+\_\+lon\+\_\+lat}} (adr)
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_ac32bffd6501c4cb8a785bfa22c368ed4}{clean\+\_\+table}} (\mbox{\hyperlink{namespacerecuperation__data__belib_a36809ad6cf42c75b7260bb30440a70f5}{path\+\_\+db}}, \mbox{\hyperlink{namespacerecuperation__data__belib_acb7d827b2e2e92904507b576c607e6c9}{table}})
\item 
def \mbox{\hyperlink{namespacerecuperation__data__belib_adbfe300747460ce2ca1e63da67261c4c}{update\+\_\+bornes\+\_\+around\+\_\+adresse\+\_\+live}} (\mbox{\hyperlink{namespacerecuperation__data__belib_a36809ad6cf42c75b7260bb30440a70f5}{path\+\_\+db}}, adr, \mbox{\hyperlink{namespacerecuperation__data__belib_a2578b368dad74bcd4a88bbeeb319a833}{dist}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
string \mbox{\hyperlink{namespacerecuperation__data__belib_a46b77ecd1d465d21693a66e52a6bdb6c}{figure\+\_\+dir}} = \char`\"{}./\char`\"{}
\item 
string \mbox{\hyperlink{namespacerecuperation__data__belib_adf1b79e095ad5183771a1ba65aa506db}{db\+\_\+dir}} = \char`\"{}../db\+\_\+sqlite/\char`\"{}
\item 
string \mbox{\hyperlink{namespacerecuperation__data__belib_a7aa758113796aba669da57d689152fd5}{mapbox\+\_\+token\+\_\+path}} = \char`\"{}../.mapbox\+\_\+token\char`\"{}
\item 
dictionary \mbox{\hyperlink{namespacerecuperation__data__belib_a6e0d8b260fabe4ba47a754a43c9fe96c}{dict\+\_\+labels\+\_\+statuts}}
\begin{DoxyCompactList}\small\item\em Dictionnaire associant les Statuts récupérés aux noms des statuts de la bdd. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_a90eee7a4677ca8b1ed116364a24367f9}{parser}}
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_a2f4ab7bf743142dae2e459aa18f9f1d4}{action}}
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_a81ae9faedaa69e3e28e2960a0548df8d}{help}}
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_a7aead736a07eaf25623ad7bfa1f0ee2d}{type}}
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_a4b99ff73a8a869319570237b5c57ab03}{str}}
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_a87f35ac6fa80d957c59e394549aa7e15}{nargs}}
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_affb1327b18bf08a379d19eef89cf1ed1}{default}}
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_a6a1bb6ed41f44b60e7bd83b0e9945aa7}{float}}
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_a8187411843a6284ffb964ef3fb9fcab3}{args}} = parser.\+parse\+\_\+args()
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_a3a27a39b7c24b8afcdcaddd8f77ed5d6}{bornes}} = args.\+bornes
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_ad797829e3284fd15f2780269ce9bb6dc}{general}} = args.\+general
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_a607009fa45ee4b1efede68a452cdb791}{fav}} = args.\+favoris
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_ad54f92b21f4db8065bcbf2a6a0b724c9}{live}} = args.\+live
\item 
string \mbox{\hyperlink{namespacerecuperation__data__belib_af5244d20512d470d69a594112beb0bc9}{filename\+\_\+db}} = \char`\"{}belib\+\_\+data.\+db\char`\"{}
\item 
string \mbox{\hyperlink{namespacerecuperation__data__belib_a36809ad6cf42c75b7260bb30440a70f5}{path\+\_\+db}} = \mbox{\hyperlink{namespacerecuperation__data__belib_adf1b79e095ad5183771a1ba65aa506db}{db\+\_\+dir}} + \mbox{\hyperlink{namespacerecuperation__data__belib_af5244d20512d470d69a594112beb0bc9}{filename\+\_\+db}}
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_af1c1b83b389cf652938d47316fc0e815}{pos\+\_\+lat}}
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_ab95c9057dcf26e04a376ad2a155c9191}{pos\+\_\+lon}}
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_a6a1bb6ed41f44b60e7bd83b0e9945aa7}{float}} \mbox{\hyperlink{namespacerecuperation__data__belib_a2578b368dad74bcd4a88bbeeb319a833}{dist}} = 0.\+5
\item 
string \mbox{\hyperlink{namespacerecuperation__data__belib_acb7d827b2e2e92904507b576c607e6c9}{table}} = \char`\"{}Stations\+\_\+fav\char`\"{}
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_a02e40c6c996d4bbb80cc88db452d647b}{adresse\+\_\+live}} = args.\+adresse\mbox{[}0\mbox{]}
\item 
\mbox{\hyperlink{namespacerecuperation__data__belib_a6f455bbc7ab9e4f7a2b80b320d738bce}{dist\+\_\+live}} = args.\+distance\mbox{[}0\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacerecuperation__data__belib_a3dbb95e8c121b590bcf7d0fcab975cbe}\label{namespacerecuperation__data__belib_a3dbb95e8c121b590bcf7d0fcab975cbe}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!adresse\_to\_lon\_lat@{adresse\_to\_lon\_lat}}
\index{adresse\_to\_lon\_lat@{adresse\_to\_lon\_lat}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{adresse\_to\_lon\_lat()}{adresse\_to\_lon\_lat()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+adresse\+\_\+to\+\_\+lon\+\_\+lat (\begin{DoxyParamCaption}\item[{}]{adr }\end{DoxyParamCaption})}

\begin{DoxyVerb}Transformation de l'adresse entrée en live en position lon,lat à l'aide de 
l'API adresse.gouv

Args:
    adr (string): Adresse postale française

Returns:
    tuple: Tuple de taille 2 contenant la lon et la lat
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_ac32bffd6501c4cb8a785bfa22c368ed4}\label{namespacerecuperation__data__belib_ac32bffd6501c4cb8a785bfa22c368ed4}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!clean\_table@{clean\_table}}
\index{clean\_table@{clean\_table}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{clean\_table()}{clean\_table()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+clean\+\_\+table (\begin{DoxyParamCaption}\item[{}]{path\+\_\+db,  }\item[{}]{table }\end{DoxyParamCaption})}

\begin{DoxyVerb}Fonction permettant de vider une table d'une db SQLite3

Args:
    path_db (string): Chemin vers la bdd SQLite3
    table (string): Nom de la table à traiter
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_ab3b3515bcc8aaf4a79e40c3936005474}\label{namespacerecuperation__data__belib_ab3b3515bcc8aaf4a79e40c3936005474}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!create\_connection@{create\_connection}}
\index{create\_connection@{create\_connection}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{create\_connection()}{create\_connection()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+create\+\_\+connection (\begin{DoxyParamCaption}\item[{}]{path\+\_\+db }\end{DoxyParamCaption})}

\begin{DoxyVerb}Etablit la connexion avec la base de données SQLite3

Args:
    path_db (string): Chemin vers la base de données SQLite3

Returns:
    conn: Objet sqlite3 représentant une connexion à une db
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_af19de3b642faebacf946cd33eb82ce5c}\label{namespacerecuperation__data__belib_af19de3b642faebacf946cd33eb82ce5c}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!def\_row\_general@{def\_row\_general}}
\index{def\_row\_general@{def\_row\_general}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{def\_row\_general()}{def\_row\_general()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+def\+\_\+row\+\_\+general (\begin{DoxyParamCaption}\item[{}]{daterecolte\+\_\+,  }\item[{}]{n\+\_\+dispo,  }\item[{}]{n\+\_\+occup,  }\item[{}]{n\+\_\+inc,  }\item[{}]{n\+\_\+main,  }\item[{}]{n\+\_\+del = {\ttfamily 0},  }\item[{}]{n\+\_\+res = {\ttfamily 0},  }\item[{}]{n\+\_\+encours\+\_\+mes = {\ttfamily 0},  }\item[{}]{n\+\_\+mes\+\_\+plan = {\ttfamily 0},  }\item[{}]{n\+\_\+nonimp = {\ttfamily 0} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Construit un dictionnaire contenant l'ensemble des données des bornes belib, utiles pour faire
des stats globales sur l'ensemble du réseau belib.

Args:
    daterecolte_ (string): Chaine de caracteres correspondant à la date de recolte
    n_dispo (int): Nombre de bornes disponibles
    n_occup (int): Nombre de bornes occupées
    n_inc (int): Nombre de bornes au statut inconnu
    n_main (int): Nombre de bornes en maintenance
    n_res (int, optional): Nombre de bornes réservées. Defaults to 0.
    n_encours_mes (int, optional): Nombre de bornes en cours de mise en service. Defaults to 0.
    n_mes_plan (int, optional): Nombre de bornes avec mise en service planifiée. Defaults to 0.
    n_nonimp (int, optional): Nombre de bornes au statut non implémentée. Defaults to 0.

Returns:
    dict: Dictionnaire contenant les statuts de l'ensemble des bornes belib sur le réseau.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_add9c026e0c0de423fa76bba0828fdcb4}\label{namespacerecuperation__data__belib_add9c026e0c0de423fa76bba0828fdcb4}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!def\_station@{def\_station}}
\index{def\_station@{def\_station}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{def\_station()}{def\_station()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+def\+\_\+station (\begin{DoxyParamCaption}\item[{}]{daterecolte\+\_\+,  }\item[{}]{adr,  }\item[{}]{lon,  }\item[{}]{lat,  }\item[{}]{n\+\_\+dispo,  }\item[{}]{n\+\_\+occup,  }\item[{}]{n\+\_\+inc,  }\item[{}]{n\+\_\+main,  }\item[{}]{n\+\_\+del = {\ttfamily 0},  }\item[{}]{n\+\_\+res = {\ttfamily 0},  }\item[{}]{n\+\_\+encours\+\_\+mes = {\ttfamily 0},  }\item[{}]{n\+\_\+mes\+\_\+plan = {\ttfamily 0},  }\item[{}]{n\+\_\+nonimp = {\ttfamily 0} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Construit un dictionnaire contenant l'ensemble des données d'une station belib

Args:
    daterecolte_ (string): Chaine de caracteres correspondant à la date de recolte
    adr (string): Chaine de caracteres correspondant à l'adresse
    lon (float): Longitude
    lat (float): Latitude
    n_dispo (int): Nombre de bornes disponibles
    n_occup (int): Nombre de bornes occupées
    n_inc (int): Nombre de bornes au statut inconnu
    n_main (int): Nombre de bornes en maintenance
    n_res (int, optional): Nombre de bornes réservées. Defaults to 0.
    n_encours_mes (int, optional): Nombre de bornes en cours de mise en service. Defaults to 0.
    n_mes_plan (int, optional): Nombre de bornes avec mise en service planifiée. Defaults to 0.
    n_nonimp (int, optional): Nombre de bornes au statut non implémentée. Defaults to 0.

Returns:
    dict: Dictionnaire regroupant les infos de la station
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_af7080f2b4e2434a4568f8439083b33d4}\label{namespacerecuperation__data__belib_af7080f2b4e2434a4568f8439083b33d4}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!get\_lon\_lat\_from\_coordxy@{get\_lon\_lat\_from\_coordxy}}
\index{get\_lon\_lat\_from\_coordxy@{get\_lon\_lat\_from\_coordxy}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{get\_lon\_lat\_from\_coordxy()}{get\_lon\_lat\_from\_coordxy()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+get\+\_\+lon\+\_\+lat\+\_\+from\+\_\+coordxy (\begin{DoxyParamCaption}\item[{}]{str\+\_\+coordxy }\end{DoxyParamCaption})}

\begin{DoxyVerb}Transforme le contenu de la colonne coordonnees_xy des data raw en lon, lat

Args:
    str_coordxy (string): Chaine de caractere du type "(lon,lat)"

Returns:
    tuple : Tuple de taille 2, contenant la longitude et la latitude
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_a14c13e8ef6b07d874b70d783e3d011f3}\label{namespacerecuperation__data__belib_a14c13e8ef6b07d874b70d783e3d011f3}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!iterator\_data\_bornes@{iterator\_data\_bornes}}
\index{iterator\_data\_bornes@{iterator\_data\_bornes}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{iterator\_data\_bornes()}{iterator\_data\_bornes()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+iterator\+\_\+data\+\_\+bornes (\begin{DoxyParamCaption}\item[{}]{n,  }\item[{}]{raw\+\_\+data\+\_\+all\+\_\+bornes }\end{DoxyParamCaption})}

\begin{DoxyVerb}Iterateur permettant de renvoyer le contenu de raw_data_all_bornes pour l'ensemble
des bornes

Args:
    n (int): Nombre de bornes
    raw_data_all_bornes (list): Liste de Dictionnaires contenant les données brutes récupérées pour l'ensemble des bornes

Yields:
    value : Valeur contenue dans la colonne du dictionnaire spécifiée, renvoyée à la volée (générateur)
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_a5c47643b69fd718a3f032d427c38684b}\label{namespacerecuperation__data__belib_a5c47643b69fd718a3f032d427c38684b}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!iterator\_data\_general@{iterator\_data\_general}}
\index{iterator\_data\_general@{iterator\_data\_general}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{iterator\_data\_general()}{iterator\_data\_general()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+iterator\+\_\+data\+\_\+general (\begin{DoxyParamCaption}\item[{}]{data\+\_\+general }\end{DoxyParamCaption})}

\begin{DoxyVerb}Iterateur permettant de renvoyer le contenu de data_general

Args:
    data_general (dict): Dictionnaire contenant les infos des stations favorites ou live

Yields:
    value : Valeur contenue dans la colonne du dictionnaire spécifiée, renvoyée à la volée (generateur)
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_ae250e409a5ddfd4c9f3adc74ed072b2c}\label{namespacerecuperation__data__belib_ae250e409a5ddfd4c9f3adc74ed072b2c}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!iterator\_data\_stations@{iterator\_data\_stations}}
\index{iterator\_data\_stations@{iterator\_data\_stations}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{iterator\_data\_stations()}{iterator\_data\_stations()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+iterator\+\_\+data\+\_\+stations (\begin{DoxyParamCaption}\item[{}]{n,  }\item[{}]{list\+\_\+stations\+\_\+pref }\end{DoxyParamCaption})}

\begin{DoxyVerb}Iterateur permettant de renvoyer le contenu de list_stations_pref pour l'ensemble
des bornes 

Args:
    n (int): Nombre de stations
    list_stations_pref (list): Liste de Dictionnaires contenant les données relatives aux stations (fav ou live)

Yields:
    value : Valeur contenue dans la colonne du dictionnaire spécifiée, renvoyée à la volée (générateur)
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_a48c24dffede233864b221ac6b417a657}\label{namespacerecuperation__data__belib_a48c24dffede233864b221ac6b417a657}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!make\_mapbox@{make\_mapbox}}
\index{make\_mapbox@{make\_mapbox}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{make\_mapbox()}{make\_mapbox()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+make\+\_\+mapbox (\begin{DoxyParamCaption}\item[{}]{table,  }\item[{}]{list\+\_\+stations,  }\item[{}]{http,  }\item[{}]{pos\+\_\+lat,  }\item[{}]{pos\+\_\+lon,  }\item[{}]{dist }\end{DoxyParamCaption})}

\begin{DoxyVerb}Fonctionnant générant une image statique Mapbox contenant des pins au niveau 
des stations trouvées, de la couleur des plots obtenus en C.

Args:
    table (string): Nombre de la table lue
    list_stations (list): Liste des dictionnaires de stations
    http (PoolManager): PoolManager urllib3
    pos_lat (float): Latitude du point de recherche (point central)
    pos_lon (float): Longitude du point de recherche (point central)
    dist (float): Rayon de recherche spécifié. Permet de créer une bounding box de manière grossière.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_ad4a37e9c51a43b9aae37e7427ce3f671}\label{namespacerecuperation__data__belib_ad4a37e9c51a43b9aae37e7427ce3f671}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!transform\_dict\_station@{transform\_dict\_station}}
\index{transform\_dict\_station@{transform\_dict\_station}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{transform\_dict\_station()}{transform\_dict\_station()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+transform\+\_\+dict\+\_\+station (\begin{DoxyParamCaption}\item[{}]{list\+\_\+records }\end{DoxyParamCaption})}

\begin{DoxyVerb}Fonction transformant les données brutes récupérées sous forme de dictionnaire en une 
liste de dictionnaire de stations (avec tous les statuts des bornes par station)

Args:
    list_records (list): Liste des dictionnaires de chaque station+statut_unique (data json brute prétraitée)

Returns:
    list: Liste des dictionnaires des stations avec statuts concaténés
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_a44f9cf58f4d6140f0f7157417411e17b}\label{namespacerecuperation__data__belib_a44f9cf58f4d6140f0f7157417411e17b}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!update\_all\_bornes@{update\_all\_bornes}}
\index{update\_all\_bornes@{update\_all\_bornes}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{update\_all\_bornes()}{update\_all\_bornes()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+update\+\_\+all\+\_\+bornes (\begin{DoxyParamCaption}\item[{}]{path\+\_\+db }\end{DoxyParamCaption})}

\begin{DoxyVerb}Mise à jour de la table Bornes de la bdd SQLite3

Args:
    path_db (string): Chemin vers la bdd SQLite3
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_adbfe300747460ce2ca1e63da67261c4c}\label{namespacerecuperation__data__belib_adbfe300747460ce2ca1e63da67261c4c}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!update\_bornes\_around\_adresse\_live@{update\_bornes\_around\_adresse\_live}}
\index{update\_bornes\_around\_adresse\_live@{update\_bornes\_around\_adresse\_live}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{update\_bornes\_around\_adresse\_live()}{update\_bornes\_around\_adresse\_live()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+update\+\_\+bornes\+\_\+around\+\_\+adresse\+\_\+live (\begin{DoxyParamCaption}\item[{}]{path\+\_\+db,  }\item[{}]{adr,  }\item[{}]{dist }\end{DoxyParamCaption})}

\begin{DoxyVerb}Mise a jour de la table "Stations_live" de la db SQLite3. On la vide avant de la compléter.

Args:
    path_db (string): Chemin vers la bdd SQLite3
    adr (string): Adresse postale française
    dist (float): Rayon de recherche en km
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_a4d60a627f1517f0f0ad8e67cc1f91d1c}\label{namespacerecuperation__data__belib_a4d60a627f1517f0f0ad8e67cc1f91d1c}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!update\_bornes\_around\_pos@{update\_bornes\_around\_pos}}
\index{update\_bornes\_around\_pos@{update\_bornes\_around\_pos}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{update\_bornes\_around\_pos()}{update\_bornes\_around\_pos()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+update\+\_\+bornes\+\_\+around\+\_\+pos (\begin{DoxyParamCaption}\item[{}]{path\+\_\+db,  }\item[{}]{table,  }\item[{}]{pos\+\_\+lat,  }\item[{}]{pos\+\_\+lon,  }\item[{}]{dist }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update de la table de la db SQLite3 avec les données des stations autour d'une position GPS

Args:
    path_db (string): Chemin vers la db SQLite3
    table (string): Nom de la table à compléter
    pos_lat (float): Latitude de la position de recherche
    pos_lon (float): Longitude de la position de recherche
    dist (float): Rayon de recherche en km
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacerecuperation__data__belib_a5b6a2110097fd80a82aee953a5861388}\label{namespacerecuperation__data__belib_a5b6a2110097fd80a82aee953a5861388}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!update\_general@{update\_general}}
\index{update\_general@{update\_general}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{update\_general()}{update\_general()}}
{\footnotesize\ttfamily def recuperation\+\_\+data\+\_\+belib.\+update\+\_\+general (\begin{DoxyParamCaption}\item[{}]{path\+\_\+db }\end{DoxyParamCaption})}

\begin{DoxyVerb}Mise a jour de la table General de la bdd SQLite3 avec le statut de l'ensemble des bornes

Args:
    path_db (string): Chemin vers la db SQLite3
\end{DoxyVerb}
 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacerecuperation__data__belib_a2f4ab7bf743142dae2e459aa18f9f1d4}\label{namespacerecuperation__data__belib_a2f4ab7bf743142dae2e459aa18f9f1d4}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!action@{action}}
\index{action@{action}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{action}{action}}
{\footnotesize\ttfamily action}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a02e40c6c996d4bbb80cc88db452d647b}\label{namespacerecuperation__data__belib_a02e40c6c996d4bbb80cc88db452d647b}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!adresse\_live@{adresse\_live}}
\index{adresse\_live@{adresse\_live}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{adresse\_live}{adresse\_live}}
{\footnotesize\ttfamily adresse\+\_\+live = args.\+adresse\mbox{[}0\mbox{]}}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a8187411843a6284ffb964ef3fb9fcab3}\label{namespacerecuperation__data__belib_a8187411843a6284ffb964ef3fb9fcab3}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!args@{args}}
\index{args@{args}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{args}{args}}
{\footnotesize\ttfamily args = parser.\+parse\+\_\+args()}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a3a27a39b7c24b8afcdcaddd8f77ed5d6}\label{namespacerecuperation__data__belib_a3a27a39b7c24b8afcdcaddd8f77ed5d6}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!bornes@{bornes}}
\index{bornes@{bornes}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{bornes}{bornes}}
{\footnotesize\ttfamily bornes = args.\+bornes}

\mbox{\Hypertarget{namespacerecuperation__data__belib_adf1b79e095ad5183771a1ba65aa506db}\label{namespacerecuperation__data__belib_adf1b79e095ad5183771a1ba65aa506db}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!db\_dir@{db\_dir}}
\index{db\_dir@{db\_dir}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{db\_dir}{db\_dir}}
{\footnotesize\ttfamily string db\+\_\+dir = \char`\"{}../db\+\_\+sqlite/\char`\"{}}

\mbox{\Hypertarget{namespacerecuperation__data__belib_affb1327b18bf08a379d19eef89cf1ed1}\label{namespacerecuperation__data__belib_affb1327b18bf08a379d19eef89cf1ed1}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!default@{default}}
\index{default@{default}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{default}{default}}
{\footnotesize\ttfamily default}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a6e0d8b260fabe4ba47a754a43c9fe96c}\label{namespacerecuperation__data__belib_a6e0d8b260fabe4ba47a754a43c9fe96c}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!dict\_labels\_statuts@{dict\_labels\_statuts}}
\index{dict\_labels\_statuts@{dict\_labels\_statuts}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{dict\_labels\_statuts}{dict\_labels\_statuts}}
{\footnotesize\ttfamily dictionary dict\+\_\+labels\+\_\+statuts}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 =  \{}
\DoxyCodeLine{2         \textcolor{stringliteral}{'Disponible'}                  :   \textcolor{stringliteral}{"{}disponible"{}}          ,}
\DoxyCodeLine{3         \textcolor{stringliteral}{'Occupé (en charge)'}          :   \textcolor{stringliteral}{"{}occupe"{}}              ,}
\DoxyCodeLine{4         \textcolor{stringliteral}{'Inconnu'}                     :   \textcolor{stringliteral}{"{}inconnu"{}}             ,}
\DoxyCodeLine{5         \textcolor{stringliteral}{'En maintenance'}              :   \textcolor{stringliteral}{"{}en\_maintenance"{}}      ,}
\DoxyCodeLine{6         \textcolor{stringliteral}{'Supprimée'}                   :   \textcolor{stringliteral}{"{}supprime"{}}            ,}
\DoxyCodeLine{7         \textcolor{stringliteral}{'Réservée'}                    :   \textcolor{stringliteral}{"{}reserve"{}}             ,}
\DoxyCodeLine{8         \textcolor{stringliteral}{'En cours de mise en service'} :   \textcolor{stringliteral}{"{}en\_cours\_mes"{}}        ,}
\DoxyCodeLine{9         \textcolor{stringliteral}{'Mise en service planifiée'}   :   \textcolor{stringliteral}{"{}mes\_planifiee"{}}       ,}
\DoxyCodeLine{10         \textcolor{stringliteral}{'Pas implémentée'}             :   \textcolor{stringliteral}{"{}non\_implemente"{}}      ,}
\DoxyCodeLine{11     \}}

\end{DoxyCode}


Dictionnaire associant les Statuts récupérés aux noms des statuts de la bdd. 

\mbox{\Hypertarget{namespacerecuperation__data__belib_a2578b368dad74bcd4a88bbeeb319a833}\label{namespacerecuperation__data__belib_a2578b368dad74bcd4a88bbeeb319a833}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!dist@{dist}}
\index{dist@{dist}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{dist}{dist}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacerecuperation__data__belib_a6a1bb6ed41f44b60e7bd83b0e9945aa7}{float}} dist = 0.\+5}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a6f455bbc7ab9e4f7a2b80b320d738bce}\label{namespacerecuperation__data__belib_a6f455bbc7ab9e4f7a2b80b320d738bce}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!dist\_live@{dist\_live}}
\index{dist\_live@{dist\_live}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{dist\_live}{dist\_live}}
{\footnotesize\ttfamily dist\+\_\+live = args.\+distance\mbox{[}0\mbox{]}}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a607009fa45ee4b1efede68a452cdb791}\label{namespacerecuperation__data__belib_a607009fa45ee4b1efede68a452cdb791}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!fav@{fav}}
\index{fav@{fav}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{fav}{fav}}
{\footnotesize\ttfamily fav = args.\+favoris}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a46b77ecd1d465d21693a66e52a6bdb6c}\label{namespacerecuperation__data__belib_a46b77ecd1d465d21693a66e52a6bdb6c}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!figure\_dir@{figure\_dir}}
\index{figure\_dir@{figure\_dir}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{figure\_dir}{figure\_dir}}
{\footnotesize\ttfamily string figure\+\_\+dir = \char`\"{}./\char`\"{}}

\mbox{\Hypertarget{namespacerecuperation__data__belib_af5244d20512d470d69a594112beb0bc9}\label{namespacerecuperation__data__belib_af5244d20512d470d69a594112beb0bc9}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!filename\_db@{filename\_db}}
\index{filename\_db@{filename\_db}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{filename\_db}{filename\_db}}
{\footnotesize\ttfamily string filename\+\_\+db = \char`\"{}belib\+\_\+data.\+db\char`\"{}}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a6a1bb6ed41f44b60e7bd83b0e9945aa7}\label{namespacerecuperation__data__belib_a6a1bb6ed41f44b60e7bd83b0e9945aa7}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!float@{float}}
\index{float@{float}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{float}{float}}
{\footnotesize\ttfamily float}

\mbox{\Hypertarget{namespacerecuperation__data__belib_ad797829e3284fd15f2780269ce9bb6dc}\label{namespacerecuperation__data__belib_ad797829e3284fd15f2780269ce9bb6dc}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!general@{general}}
\index{general@{general}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{general}{general}}
{\footnotesize\ttfamily general = args.\+general}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a81ae9faedaa69e3e28e2960a0548df8d}\label{namespacerecuperation__data__belib_a81ae9faedaa69e3e28e2960a0548df8d}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!help@{help}}
\index{help@{help}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{help}{help}}
{\footnotesize\ttfamily help}

\mbox{\Hypertarget{namespacerecuperation__data__belib_ad54f92b21f4db8065bcbf2a6a0b724c9}\label{namespacerecuperation__data__belib_ad54f92b21f4db8065bcbf2a6a0b724c9}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!live@{live}}
\index{live@{live}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{live}{live}}
{\footnotesize\ttfamily live = args.\+live}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a7aa758113796aba669da57d689152fd5}\label{namespacerecuperation__data__belib_a7aa758113796aba669da57d689152fd5}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!mapbox\_token\_path@{mapbox\_token\_path}}
\index{mapbox\_token\_path@{mapbox\_token\_path}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{mapbox\_token\_path}{mapbox\_token\_path}}
{\footnotesize\ttfamily string mapbox\+\_\+token\+\_\+path = \char`\"{}../.mapbox\+\_\+token\char`\"{}}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a87f35ac6fa80d957c59e394549aa7e15}\label{namespacerecuperation__data__belib_a87f35ac6fa80d957c59e394549aa7e15}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!nargs@{nargs}}
\index{nargs@{nargs}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{nargs}{nargs}}
{\footnotesize\ttfamily nargs}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a90eee7a4677ca8b1ed116364a24367f9}\label{namespacerecuperation__data__belib_a90eee7a4677ca8b1ed116364a24367f9}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!parser@{parser}}
\index{parser@{parser}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{parser}{parser}}
{\footnotesize\ttfamily parser}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 =  argparse.ArgumentParser(}
\DoxyCodeLine{2         prog = \textcolor{stringliteral}{'GetBelibData'},}
\DoxyCodeLine{3         description = \textcolor{stringliteral}{'Ce script recupere les donnees Belib en OpenData a Paris'}+\(\backslash\)}
\DoxyCodeLine{4             \textcolor{stringliteral}{' et stocke les donnees qui nous interessent dans une base de donnees'}+\(\backslash\)}
\DoxyCodeLine{5             \textcolor{stringliteral}{' sqlite.'},}
\DoxyCodeLine{6         epilog = \textcolor{stringliteral}{'-\/-\/ Juba Hamma, 2023.'})}

\end{DoxyCode}
\mbox{\Hypertarget{namespacerecuperation__data__belib_a36809ad6cf42c75b7260bb30440a70f5}\label{namespacerecuperation__data__belib_a36809ad6cf42c75b7260bb30440a70f5}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!path\_db@{path\_db}}
\index{path\_db@{path\_db}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{path\_db}{path\_db}}
{\footnotesize\ttfamily string path\+\_\+db = \mbox{\hyperlink{namespacerecuperation__data__belib_adf1b79e095ad5183771a1ba65aa506db}{db\+\_\+dir}} + \mbox{\hyperlink{namespacerecuperation__data__belib_af5244d20512d470d69a594112beb0bc9}{filename\+\_\+db}}}

\mbox{\Hypertarget{namespacerecuperation__data__belib_af1c1b83b389cf652938d47316fc0e815}\label{namespacerecuperation__data__belib_af1c1b83b389cf652938d47316fc0e815}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!pos\_lat@{pos\_lat}}
\index{pos\_lat@{pos\_lat}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{pos\_lat}{pos\_lat}}
{\footnotesize\ttfamily pos\+\_\+lat}

\mbox{\Hypertarget{namespacerecuperation__data__belib_ab95c9057dcf26e04a376ad2a155c9191}\label{namespacerecuperation__data__belib_ab95c9057dcf26e04a376ad2a155c9191}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!pos\_lon@{pos\_lon}}
\index{pos\_lon@{pos\_lon}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{pos\_lon}{pos\_lon}}
{\footnotesize\ttfamily pos\+\_\+lon}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a4b99ff73a8a869319570237b5c57ab03}\label{namespacerecuperation__data__belib_a4b99ff73a8a869319570237b5c57ab03}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!str@{str}}
\index{str@{str}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{str}{str}}
{\footnotesize\ttfamily str}

\mbox{\Hypertarget{namespacerecuperation__data__belib_acb7d827b2e2e92904507b576c607e6c9}\label{namespacerecuperation__data__belib_acb7d827b2e2e92904507b576c607e6c9}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!table@{table}}
\index{table@{table}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{table}{table}}
{\footnotesize\ttfamily string table = \char`\"{}Stations\+\_\+fav\char`\"{}}

\mbox{\Hypertarget{namespacerecuperation__data__belib_a7aead736a07eaf25623ad7bfa1f0ee2d}\label{namespacerecuperation__data__belib_a7aead736a07eaf25623ad7bfa1f0ee2d}} 
\index{recuperation\_data\_belib@{recuperation\_data\_belib}!type@{type}}
\index{type@{type}!recuperation\_data\_belib@{recuperation\_data\_belib}}
\doxysubsubsection{\texorpdfstring{type}{type}}
{\footnotesize\ttfamily type}

